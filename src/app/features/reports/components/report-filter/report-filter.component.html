<div class="report-filter" [class.compact]="compact">
  <div class="filter-row">
    <div class="filter-group">
      <label>Date From</label>
      <input
        type="date"
        class="form-control form-control-sm"
        [value]="getDateStr(filterState.dateFrom)"
        (change)="onDateFromChange($any($event.target).value)"
      />
    </div>
    <div class="filter-group">
      <label>Date To</label>
      <input
        type="date"
        class="form-control form-control-sm"
        [value]="getDateStr(filterState.dateTo)"
        (change)="onDateToChange($any($event.target).value)"
      />
    </div>
    <div class="filter-group">
      <label>Shipment Type</label>
      <select
        class="form-select form-select-sm"
        [value]="filterState.shipmentType ?? 'all'"
        (change)="onShipmentTypeChange($any($event.target).value)"
      >
        <option value="all">All</option>
        <option value="import">Import</option>
        <option value="export">Export</option>
      </select>
    </div>
    @if (!compact && clients.length) {
      <div class="filter-group">
        <label>Client</label>
<select
        class="form-select form-select-sm"
        [value]="(filterState.clients && filterState.clients[0]) || ''"
        (change)="onClientSelect($any($event.target).value)"
      >
          <option value="">-- Select --</option>
          @for (c of clients; track c) {
            <option [value]="c">{{ c }}</option>
          }
        </select>
      </div>
    }
    <div class="filter-actions">
      <button type="button" class="btn btn-sm btn-outline-secondary" (click)="clearFilters()">
        Clear
      </button>
      <button type="button" class="btn btn-sm btn-primary" (click)="apply.emit()">
        Apply
      </button>
    </div>
  </div>
</div>
